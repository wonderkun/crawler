> åŸæ–‡é“¾æ¥: https://www.anquanke.com//post/id/87232 


# ã€æŠ€æœ¯åˆ†äº«ã€‘ç‚¹å‡»å‹åƒµå°¸appï¼šèƒ½å¤Ÿè‡ªåŠ¨ç‚¹å‡»çš„å®‰å“åƒµå°¸appï¼ˆä¸Šï¼‰


                                é˜…è¯»é‡ Â Â 
                                **134726**
                            
                        |
                        
                                                                                                                                    ![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC)
                                                                                            



##### è¯‘æ–‡å£°æ˜

æœ¬æ–‡æ˜¯ç¿»è¯‘æ–‡ç« ï¼Œæ–‡ç« åŸä½œè€…ï¼Œæ–‡ç« æ¥æºï¼šzimperium.com
                                <br>åŸæ–‡åœ°å€ï¼š[https://blog.zimperium.com/clicking-bot-applications/](https://blog.zimperium.com/clicking-bot-applications/)

è¯‘æ–‡ä»…ä¾›å‚è€ƒï¼Œå…·ä½“å†…å®¹è¡¨è¾¾ä»¥åŠå«ä¹‰åŸæ–‡ä¸ºå‡†

[![](https://p1.ssl.qhimg.com/t014cbfcd8b0956a406.png)](https://p1.ssl.qhimg.com/t014cbfcd8b0956a406.png)

**è¯‘è€…****ï¼š**[**èˆˆè¶£ä½¿ç„¶çš„å°èƒƒ**](http://bobao.360.cn/member/contribute?uid=2819002922)

**é¢„ä¼°ç¨¿è´¹ï¼š200RMB**

**æŠ•ç¨¿æ–¹å¼ï¼šå‘é€é‚®ä»¶è‡³linwei#360.cnï¼Œæˆ–ç™»é™†ç½‘é¡µç‰ˆåœ¨çº¿æŠ•ç¨¿**

Â 

**ä¸€ã€å‰è¨€**

****

ä¸å…¶ä»–çŠ¯ç½ªè¡Œä¸ºä¸€æ ·ï¼Œç½‘ç»œçŠ¯ç½ªåŒæ ·å—åŠ¨æœºé©±ä½¿ï¼Œæ¯æ¬¾æ¶æ„è½¯ä»¶éƒ½æœ‰è‡ªå·±çš„æ¶æ„åˆ©ç›Šã€‚

é—´è°è½¯ä»¶æ— æ—¶æ— åˆ»åœ¨ç›‘å¬ç€ä½ ï¼Œ[å‹’ç´¢è½¯ä»¶](https://blog.zimperium.com/detecting-doublelocker-ransomware/)è¦æ±‚ä½ æ”¯ä»˜èµé‡‘æ‰èƒ½è§£å¯†è‡ªå·±çš„éšç§æ•°æ®ã€‚é’“é±¼è½¯ä»¶ä¼šæƒ³æ–¹è®¾æ³•çªƒå–ä½ çš„ç”¨æˆ·åã€å¯†ç æˆ–è€…è´¦æˆ·å·ç ã€‚æ¬ºè¯ˆå®‰è£…è½¯ä»¶ä¼šè¯±å¯¼ä½ å®‰è£…å‡å†’çš„è½¯ä»¶ã€‚å¹¿å‘Šæ¬ºè¯ˆè½¯ä»¶ä¼šæ˜¾ç¤ºæ¬ºéª—æ€§åœ¨çº¿å¹¿å‘Šï¼Œè¯±å¯¼ç”¨æˆ·ç‚¹å‡»è¿™äº›å¹¿å‘Šï¼Œåˆ©ç”¨ç‚¹å‡»é‡ä¸ºå¼€å‘è€…åˆ›æ”¶ã€‚æœ€åï¼Œè¿˜æœ‰ä¸€ç§æ¬ºè¯ˆè¡Œä¸ºï¼Œå³Click fraudï¼ˆç‚¹å‡»æ¬ºè¯ˆï¼‰ã€‚

Click fraudï¼ˆCFï¼‰æ˜¯ä¸€ç§æ»¥ç”¨åœ¨çº¿ç‚¹å‡»ä»˜è´¹ï¼ˆ[pay-per-click](https://en.wikipedia.org/wiki/Pay_per_click)ï¼‰å¹¿å‘Šçš„**å¹¿å‘Šæ¬ºè¯ˆè¡Œä¸º**ï¼Œå½“ç”¨æˆ·ç‚¹å‡»å¹¿å‘Šåï¼Œå¹¿å‘Šå•†å°±éœ€è¦ä¸ºå‘å¸ƒè€…æ”¯ä»˜è´¹ç”¨ï¼Œè¿™å¯¹å¼€å‘è€…æ¥è¯´æ˜¯ä¸€ç¬”å¯è§‚çš„æ”¶å…¥ã€‚

äº’åŠ¨å¹¿å‘Šå±€ï¼ˆInteractive Advertising Bureauï¼ŒIABï¼‰ä¼°è®¡å¹¿å‘Šæ¬ºè¯ˆè¡Œä¸šçš„å¸‚åœºè§„æ¨¡å·²è¾¾[82äº¿](https://techcrunch.com/2016/01/06/the-8-2-billion-adtech-fraud-problem-that-everyone-is-ignoring/)ç¾å…ƒï¼Œè€Œè¿™åªæ˜¯ä¿å®ˆä¼°è®¡æ•°å€¼ï¼Œæ ¹æ®è¯¥å¸‚åœºè§„æ¨¡ï¼Œå¹¿å‘Šæ¬ºè¯ˆå·²ç»æ˜¯æ”¶å…¥æœ€é«˜çš„ç½‘ç»œçŠ¯ç½ªè¡Œä¸ºã€‚

**ç‚¹å‡»å‹åƒµå°¸åº”ç”¨ï¼ˆClicking Bot Applicationsï¼Œä»¥ä¸‹ç®€ç§°CBAï¼‰ä¼šä½¿ç”¨å„ç§å„æ ·çš„æ–¹æ³•æ¥æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»è¡Œä¸ºï¼Œè°‹å–åˆ©ç›Šã€‚**å®ƒä»¬ä¼šæ–Ÿé…Œä»¥å“ªäº›å¹¿å‘Šä½œä¸ºç›®æ ‡ï¼Œå¦‚ä½•ä½¿ç”¨å‘½ä»¤ä¸æ§åˆ¶ï¼ˆC&amp;Cï¼‰æœåŠ¡å™¨æ¥æ§åˆ¶CBAï¼Œä»¥åŠå¦‚ä½•è§„é¿å¸¸è§çš„æ£€æµ‹æ‰‹æ®µã€‚

è™½ç„¶CBAçš„ç›®æ ‡é€šå¸¸æ˜¯ä»¥æŸå®³å¹¿å‘Šå•†ä»¥åŠå¹¿å‘Šå‘å¸ƒè€…çš„åˆ©ç›Šæ¥è°‹å–ç»æµæ”¶å…¥ï¼Œä½†æœ‰äº›CBAçš„æ–¹æ³•åŠåŠŸèƒ½å¾ˆå®¹æ˜“è¢«æ”»å‡»è€…åˆ©ç”¨ï¼Œç”¨åœ¨å‹’ç´¢è½¯ä»¶ã€é—´è°è½¯ä»¶ä»¥åŠå…¶ä»–æ¶æ„è½¯ä»¶ä¸Šã€‚

ä½œä¸ºZimperiumçš„æ ¸å¿ƒæœºå™¨å­¦ä¹ å¼•æ“ï¼Œ[z9 for Mobile Malware](https://www.zimperium.com/press-zimperium-announces-worlds-first-on-device-detection-of-undetected-mobile-malware)ä¸“ä¸ºç§»åŠ¨æ¶æ„åº”ç”¨é¢†åŸŸè®¾è®¡ï¼Œå¯ä»¥æ£€æµ‹ä¹‹å‰æœªçŸ¥çš„æ¶æ„åº”ç”¨ä»¥åŠodayæ¼æ´åˆ©ç”¨æŠ€æœ¯ã€‚åœ¨[éªŒè¯z9æœºå™¨å­¦ä¹ ](https://blog.zimperium.com/validating-machine-learning-detection-mobile-malware/)æ£€æµ‹æŠ€æœ¯å¯¹æ¶æ„è½¯ä»¶çš„æ£€æµ‹æ•ˆæœä¸­ï¼Œæˆ‘ä»¬å‘ç°äº†å‡ ä¸ªAndroid[æ½œåœ¨æœ‰å®³åº”ç”¨ï¼ˆPotentially Harmful Applicationsï¼ŒPHAsï¼‰](https://source.android.com/security/reports/Google_Android_Security_PHA_classifications.pdf)ï¼Œå…¶ä¸­æœ‰äº›åº”ç”¨å±äºCBAç±»åˆ«ï¼Œæœ‰äº›åº”ç”¨æ˜¯æ¶æ„è½¯ä»¶åƒµå°¸ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œç”¨æ¥æ§åˆ¶ä¸‹å±‚çš„CBAæ´»åŠ¨ã€‚

æ ¹æ®CBAçš„è¿‘æœŸç ”ç©¶æˆæœï¼Œæˆ‘ä»¬æ˜ç¡®äº†åœ¨ä»€ä¹ˆæƒ…å†µä¸‹èƒ½å¤Ÿè¯†åˆ«ç‚¹å‡»è¡Œä¸ºã€å‘ç°ç‚¹å‡»è¡Œä¸ºæ‰€ä½¿ç”¨çš„å…·ä½“æ–¹æ³•ã€‚æˆ‘å°è¯•è¿‡å‡ ç§æ–¹æ³•ï¼Œåœ¨ä¸æ–­ä¿®æ”¹CBAçš„ä»£ç åï¼Œæˆ‘ç»ˆäºå‘ç°è¦æ·»åŠ å“ªäº›å…ƒç´ æ‰èƒ½è¾¾åˆ°ä¼˜ç§€çš„CBAæ•ˆæœã€‚æˆ‘ä¹Ÿå°è¯•äº†å…¶ä»–è‡ªåŠ¨ç‚¹å‡»æ–¹æ³•ï¼Œä½†åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä¸ä¼šè®¨è®ºå¦‚ä½•ä»æŠ€æœ¯å±‚é¢è¿›ä¸€æ­¥æ”¹è¿›CBAæ•ˆæœã€‚

åœ¨å„ç§CBAä¸­ï¼Œæœ‰ä¸€ç§CBAå¯ä»¥æ¬ºéª—[Facebook Audience Networkï¼ˆFacebookå—ä¼—ç½‘ç»œ](https://developers.facebook.com/products/audience-network/overview/)ï¼Œä¸ºFacebookçš„å¹¿å‘Šç½‘ç»œï¼Œä»¥ä¸‹ç®€ç§°FANï¼‰ã€‚ä½œä¸ºZimperiumæ¶æ„è½¯ä»¶å›¢é˜Ÿï¼Œæˆ‘ä»¬æˆåŠŸè¯†åˆ«å‡ºè¿™ç±»CBAï¼Œå¹¶å°†è¿™ç±»æ¶æ„åº”ç”¨æŠ¥å‘Šç»™Facebookçš„Traffic Quality and Fraudï¼ˆæµé‡è´¨é‡åŠæ¬ºè¯ˆï¼‰å›¢é˜Ÿã€‚æˆ‘ä»¬æä¾›äº†åº”ç”¨çš„å…·ä½“ç»†èŠ‚ã€SDKè´¦æˆ·IDï¼Œå¤ç°äº†è‡ªåŠ¨ç‚¹å‡»è¡Œä¸ºï¼Œä»¥ä¾¿Facebookè¯„ä¼°åº”å¯¹æªæ–½ã€‚Facebookåœ¨ç¬¬ä¸€æ—¶é—´å°±æŠŠè¿™äº›åº”ç”¨ä»FANä¸­ç§»é™¤ï¼Œå¹¶å°†å¤„ç†ç»“æœå‘ŠçŸ¥æˆ‘ä»¬ã€‚å‡­å€Ÿæˆ‘ä»¬æä¾›çš„ç ”ç©¶æˆæœï¼ŒFacebookå¾—ä»¥æ‰¾åˆ°ä½¿ç”¨ç›¸åŒæ”»å‡»æ‰‹æ³•çš„ä¸€ç»„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬çš„ç ”ç©¶æˆæœå¯ä»¥å¸®åŠ©Facebookç¡®è®¤å¸¦æœ‰æ¶æ„æ€§è´¨çš„åº”ç”¨ï¼Œå‰”é™¤æ¥è‡ªåƒµå°¸ç½‘ç»œè€ŒéçœŸå®ç”¨æˆ·çš„ç‚¹å‡»è¡Œä¸ºã€‚

åœ¨ä¸‹æ–‡ä¸­ï¼Œæˆ‘ä¼šæä¾›ç»è¿‡åç¼–è¯‘ã€å»æ··æ·†å¤„ç†çš„ä»£ç ç‰‡æ®µä»¥åŠç›¸åº”çš„Android APIå‡½æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™äº›ä»£ç æ¥è®¿é—®URLé“¾æ¥ï¼Œä¹Ÿå¯ä»¥è®©CBAæ¥ä»£åŠ³ ğŸ™‚

<br>

**äºŒã€â€œä¸åŠ³è€Œè·â€çš„æ¶æ„è½¯ä»¶ç½‘ç»œ**

****

ä½œä¸ºAndroidé˜²å¾¡é¢†åŸŸçš„æˆå‘˜ä¹‹ä¸€ï¼ŒZimperiumæ¶æ„è½¯ä»¶å›¢é˜ŸæˆåŠŸè¯†åˆ«å‡ºå±äºPHAsç±»åˆ«çš„å‡ ä¸ªAPKæ–‡ä»¶ã€‚

PHAæ‰€å¼•ç”¨çš„æ–‡ä»¶ä½äºcloudfront.netè¿™ä¸ªCDNåŸŸä¸Šï¼Œåˆ†æè¿™äº›æ–‡ä»¶åï¼Œæˆ‘ä»¬æˆåŠŸæ‰¾åˆ°äº†å…¶ä»–å‡ ä¸ªé…ç½®æ–‡ä»¶ä»¥åŠè¿æ¥è€ç‰ˆZtorg C&amp;Cæ’ä»¶çš„å‡ ä¸ªAPKã€‚

è€ç‰ˆ[Ztorg ](https://blog.zimperium.com/threat-research-ztorg-trojan-variations/)C&amp;Cçš„æ¶æ„è¡Œä¸ºåŒ…æ‹¬ä»¥ä¸‹ä¸¤æ–¹é¢ï¼š

**1ã€å‘é€å¸è´¹çŸ­ä¿¡ï¼ˆpremium SMSï¼‰**

**2ã€ä½¿ç”¨JavaScriptåŠ«æŒwebé¡µé¢ä¸Šçš„ç‚¹å‡»åŠ¨ä½œï¼Œç”ŸæˆWAPè´¦å•ã€‚**

æœ€æ–°çš„æ¶æ„è½¯ä»¶ç½‘ç»œé¢å¤–æ·»åŠ äº†CBAåŠå¹¿å‘Šè½¯ä»¶åŠŸèƒ½ï¼š



1ã€åŸºäºJavaScriptçš„è‡ªåŠ¨ç‚¹å‡»å¹¿å‘ŠåŠŸèƒ½ä»¥åŠè‡ªåŠ¨è®¢é˜…å¹¿å‘ŠåŠŸèƒ½ã€‚

2ã€ä½¿ç”¨[VirtualApp](https://github.com/asLody/VirtualApp)åŠ¨æ€åŠ è½½åº”ç”¨ã€‚æ‰€åŠ è½½çš„åº”ç”¨ä¸ºå¦ä¸€æ¬¾æ¶æ„è½¯ä»¶ã€‚é€šè¿‡æ›´å¤šçš„å¹¿å‘Šè·å–æ›´å¤§çš„åˆ©ç›Šã€‚

3ã€æ»¥ç”¨Androidçš„[AccessibilityService](https://developer.android.com/reference/android/accessibilityservice/AccessibilityService.html)ï¼ˆæ— éšœç¢è¾…åŠ©æœåŠ¡ï¼‰å®ç°è‡ªåŠ¨ç‚¹å‡»ã€‚åœ¨è‡ªåŠ¨ç‚¹å‡»æ–¹é¢ï¼Œæ»¥ç”¨Accessibility Serviceæ˜¯æœ€ä¸ºæ¶åŠ£çš„ä¸€ç§è¡Œå¾„ã€‚é€šè¿‡æ»¥ç”¨è¿™ç§æœåŠ¡ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ç‚¹å‡»åŒ…æ‹¬è®¾å¤‡è®¾ç½®åœ¨å†…çš„æ‰€æœ‰åº”ç”¨çš„æ‰€æœ‰æŒ‰é’®ã€‚

4ã€æ»¥ç”¨Androidçš„[dispatchTouchEvent ](https://developer.android.com/reference/android/view/ViewGroup.html#dispatchTouchEvent(android.view.MotionEvent))APIå®ç°è‡ªåŠ¨ç‚¹å‡»ã€‚è¿™ç§æ»¥ç”¨è¡Œä¸ºæ¶åŠ£ç¨‹åº¦â€œè¾ƒä½â€ï¼Œç‚¹å‡»è¡Œä¸ºåªèƒ½å±€é™äºCBAçš„å¹¿å‘Šæ èŒƒå›´å†…ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºçš„æ˜¯æœ€åä¸¤ç§è‡ªåŠ¨ç‚¹å‡»æŠ€æœ¯ã€‚

[![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC)](https://p4.ssl.qhimg.com/t010b84396408d7afbe.png)

Â 

**ä¸‰ã€åˆ©ç”¨dispatchTouchEvent APIçš„CBA**

****

ä¸ºæ–¹ä¾¿UIæµ‹è¯•ä»¥åŠåº”ç”¨å¼€å‘ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨[**ViewGroup.dispatchTouchEvent**](https://developer.android.com/reference/android/view/ViewGroup.html#dispatchTouchEvent(android.view.MotionEvent))ï¼Œå‘ç›®æ ‡[ViewGroup ](https://developer.android.com/reference/android/view/ViewGroup.html)UIç»„ä»¶å‘é€[MotionEvent](https://developer.android.com/reference/android/view/MotionEvent.html)ï¼Œä»¥æ¨¡æ‹Ÿç”¨æˆ·è§¦æ‘¸å±å¹•è¡Œä¸ºï¼Œè¿™ä¹Ÿæ˜¯éå¸¸æ­£å¸¸çš„ä½¿ç”¨åœºæ™¯ã€‚

CBAå¯ä»¥æ»¥ç”¨è¿™ç§æŠ€æœ¯æ¥ç‚¹å‡»è‡ªå·±çš„åº”ç”¨UIç»„ä»¶ï¼Œå› æ­¤ï¼Œè¿™ç§æŠ€æœ¯åœ¨æ¬ºè¯ˆé¢†åŸŸä¹Ÿèƒ½å‘æŒ¥ä½œç”¨ï¼Œå¯ä»¥ç‚¹å‡»åº”ç”¨è‡ªå·±çš„å¹¿å‘Šæ ã€‚

å¹¿å‘Šæ¡†æ¶å¯ä»¥è½»æ¾æ£€æµ‹åˆ°æ¶‰å«Œä½¿ç”¨è¿™ç±»æ¬ºè¯ˆæŠ€æœ¯çš„è®¾å¤‡ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š

1ã€è§‚å¯Ÿæ­£å¸¸ç”¨æˆ·ä½¿ç”¨æ‰‹æŒ‡è§¦æ‘¸æ—¶äº§ç”Ÿçš„ä¸åŒMotionEventçš„ä¸€äº›å±æ€§ï¼Œå¦‚ç²¾åº¦ã€å‹åŠ›ã€è§¦æ‘¸åŒºåŸŸçš„å¤§è‡´èŒƒå›´ä»¥åŠå…¶ä»–ä¸€äº›æ ‡å¿—åŠå±æ€§ã€‚ç»è¿‡è§‚å¯Ÿåï¼Œå¾ˆå®¹æ˜“å°±èƒ½è¯†åˆ«å‡ºå¸¸é‡å€¼æˆ–è€…éšæœºå€¼ã€‚

2ã€è§‚å¯Ÿè§¦æ‘¸äº‹ä»¶çš„ç»Ÿè®¡åˆ†å¸ƒï¼Œå¦‚äº‹ä»¶æ—¶é—´ã€ç©ºé—²æ—¶é—´ä»¥åŠè§¦æ‘¸åæ ‡ç­‰ï¼Œè¿™æ ·å¾ˆå®¹æ˜“å°±èƒ½è¯†åˆ«å‡ºä»¥æ’å®šé¢‘ç‡è§¦æ‘¸çš„äº‹ä»¶ã€‚

3ã€è§‚å¯Ÿå¹¿å‘Šè¢«ç‚¹å‡»åŒºåŸŸçš„ç»Ÿè®¡åˆ†å¸ƒï¼Œå¦‚å›¾æ ‡ã€æ ‡é¢˜ã€èµåŠ©å•†æ ‡ç­¾ã€åª’ä½“è§†å›¾ã€ç¤¾äº¤å†…å®¹ä»¥åŠåŠ¨ä½œç­‰ç­‰ã€‚æ­£å¸¸ç”¨æˆ·æœ€æœ‰å¯èƒ½çš„æƒ…å†µæ˜¯ç¨ä½œè¿Ÿç–‘åå°±ä¼šç‚¹å‡»â€œå…³é—­â€æŒ‰é’®ã€‚

CBAä¼šé‡‡å–å¦‚ä¸‹æ–¹æ³•ï¼Œå°è¯•è§„é¿å¹¿å‘Šæ¡†æ¶çš„æ£€æµ‹æœºåˆ¶ï¼š

1ã€å½“ç”¨æˆ·ç‚¹å‡»åº”ç”¨UIç»„ä»¶æ—¶ï¼Œä¿å­˜ä¸ç”¨æˆ·æœ€åä¸€æ¬¡è§¦æ‘¸æœ‰å…³çš„MotionEventå±æ€§ã€‚åœ¨ä¸‹ä¸€æ¬¡ç‚¹å‡»æ¬ºè¯ˆä¸­å¤ç”¨è¿™äº›å±æ€§ã€‚

2ã€ä»¥ä¸€å®šçš„æ¦‚ç‡åˆ†å‘ç‚¹å‡»äº‹ä»¶ã€‚ä¿å­˜æœ€åä¸€æ¬¡ç‚¹å‡»æ—¶é—´ï¼Œåªæœ‰æ—¶é—´é—´éš”è¶³å¤Ÿé•¿æ—¶ï¼Œæ‰æ‰§è¡Œç¬¬äºŒæ¬¡ç‚¹å‡»åŠ¨ä½œã€‚

3ã€ä½¿å¹¿å‘ŠUIä¸­è¢«ç‚¹å‡»åŒºåŸŸç¬¦åˆä¸€å®šçš„åˆ†å¸ƒæ¨¡å‹ï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬å¹¿å‘Šçš„å…³é—­æŒ‰é’®ã€‚

CBAä¸­è¿˜åŒ…å«ä¸€äº›æ ¸å¿ƒåŠŸèƒ½ï¼š

1ã€å¦‚æœæŸä¸ªå¹¿å‘Šå› ä¸ºæ¬ºè¯ˆæ£€æµ‹æœºåˆ¶ä¸å†æœ‰æ•ˆï¼Œé‚£ä¹ˆå°±é€‰æ‹©ä½¿ç”¨å¦ä¸€ä¸ªå¹¿å‘ŠSDKã€‚

2ã€CBAä¼šæ ¹æ®é…ç½®ä¿¡æ¯é€‰æ‹©å¾…æ¬ºè¯ˆçš„å¹¿å‘Šå¯¹è±¡ä»¥åŠå¤‡ç”¨çš„å¹¿å‘Šå¯¹è±¡ã€‚

3ã€CBAåœ¨é…ç½®ä¿¡æ¯ä¸­å®šä¹‰ç‚¹å‡»é¢‘ç‡ã€ä¸¤æ¬¡ç‚¹å‡»çš„æœ€å°æ—¶é—´é—´éš”ã€ç›®æ ‡å¹¿å‘ŠåŠå¤‡ç”¨å¹¿å‘Šï¼Œç”±C&amp;CæœåŠ¡å™¨å†³å®šæ˜¯å¦æ¿€æ´»CBAè§’è‰²ã€‚CBAåœ¨åˆå§‹çŠ¶æ€ä¸‹ä¹Ÿä¼šåŒ…å«ä¸€ä¸ªé»˜è®¤çš„é…ç½®ä¿¡æ¯ã€‚

4ã€é™¤äº†Facebookç§»åŠ¨å¹¿å‘Šå¹³å°ä»¥å¤–ï¼ŒCBAå¹¿å‘ŠSDKé…ç½®åˆ—è¡¨ä¸­è¿˜åŒ…æ‹¬Googleæ¨å‡ºçš„AdMobä»¥åŠDoubleClickå¹¿å‘Šäº¤æ˜“å¹³å°ã€‚å…¶ä»–å¹¿å‘Šå¹³å°ï¼Œå¦‚MobVistaã€InMobiä»¥åŠä¸­å›½äº’è”ç½‘æœç´¢å·¨å¤´ç™¾åº¦æ¨å‡ºçš„DU Adå¹³å°çš„æ¨å¹¿åŠ›åº¦éå¸¸å¤§ï¼Œä½†ç›®å‰æ²¡æœ‰è¯æ®è¡¨æ˜è¿™äº›å¹³å°ä¸è‡ªåŠ¨ç‚¹å‡»è¡Œä¸ºæœ‰å…³ã€‚

æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹**com.life.read.physical.trian**è¿™æ¬¾åº”ç”¨ç»è¿‡åç¼–è¯‘åçš„ä»£ç ã€‚

ä»£ç ä¸­çš„æ³¨é‡Šè¯­å¥ç”±zLabsæ·»åŠ ã€‚æˆ‘ä»¬åˆ é™¤äº†æŸäº›ä»£ç ï¼Œä»¥ç¼©çŸ­ä»£ç ç¯‡å¹…ã€‚

**1ã€å¤ç”¨å·²ä¿å­˜çš„ç”¨æˆ·ä¸Šæ¬¡è§¦æ‘¸äº‹ä»¶çš„ç›¸å…³å±æ€§**



```
publicÂ classÂ MainActivityÂ extendsÂ SlidingFragmentActivityÂ implementsÂ View.OnClickListener,Â View.OnTouchListenerÂ `{`

Â Â Â Â publicÂ booleanÂ onTouch(ViewÂ view,Â MotionEventÂ motionEvent)Â `{`
Â Â Â Â Â Â Â Â if(motionEvent.getAction()Â ==Â 0)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â ClickSimulator.getMotionEventInfo(((Context)this),Â motionEvent);
Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â returnÂ 0;
Â Â Â Â `}`

Â Â Â Â publicÂ classÂ MotionEventInfoÂ `{`
Â Â Â Â Â Â Â Â publicÂ staticÂ MotionEventInfoÂ setInfo(StringÂ name)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â MotionEventInfoÂ options;
Â Â Â Â Â Â Â Â Â Â Â Â tryÂ `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â optionsÂ =Â newÂ MotionEventInfo();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â JSONObjectÂ JSON_ObjÂ =Â newÂ JSONObject(name);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options.deviceIdÂ =Â JSON_Obj.optInt("de");
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options.pressureÂ =Â JSON_Obj.optDouble("pr");
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options.sizeÂ =Â JSON_Obj.optDouble("si");
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options.xprecisionÂ =Â JSON_Obj.optDouble("xp");
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options.yprecisionÂ =Â JSON_Obj.optDouble("yp");
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options.metaStateÂ =Â JSON_Obj.optInt("me");
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â options.edgeFlagsÂ =Â JSON_Obj.optInt("ed");
Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â catch(ExceptionÂ ex)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â optionsÂ =Â null;
Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â returnÂ options;
Â Â Â Â Â Â Â Â `}`
Â Â Â Â `}`
`}`
```

**2ã€ä»¥ä¸€å®šçš„æ¦‚ç‡åˆ†å‘ç‚¹å‡»äº‹ä»¶**



```
publicÂ classÂ FacebookAdsManagerÂ `{`
Â Â 
Â Â privateÂ voidÂ triggerAutoClick()Â `{`
Â Â Â Â Â intÂ randomIntÂ =Â 10000;
Â Â Â Â Â longÂ cTimeZeroÂ =Â 0;
Â Â Â Â Â if(("1".equals(ConfigurationManager.getAutoClick()))Â &amp;&amp;Â newÂ Random().nextInt(100)Â +Â 1Â &lt;=Â Integer.valueOf(ConfigurationManager.getClickRate()).intValue())Â `{`
Â Â Â Â Â Â Â Â Â this.simulate_clickÂ =Â this.ctx.getSharedPreferences("simulate_click",Â 0);
Â Â Â Â Â Â Â Â Â this.simulate_click_editÂ =Â this.simulate_click.edit();
Â Â Â Â Â Â Â if(this.simulate_click.getLong("cTime",Â cTimeZero)Â -Â System.currentTimeMillis()Â &gt;=Â 60000)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â newÂ Thread(newÂ Runnable(newÂ Random().nextInt(randomInt)Â +Â 5000)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â publicÂ voidÂ run()Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â tryÂ `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(((long)FacebookAdsManager.sleepTime));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MessageÂ msgÂ =Â newÂ Message();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â msg.whatÂ =Â 0x888;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.getFacebookAdsManagerHandler(context).sendMessage(msg);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â catch(InterruptedExceptionÂ ex)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ex.printStackTrace();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â Â `}`).start();
Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â `}`
Â Â `}`
`}`
```

**3ã€ä½¿è¢«é€‰æ‹©çš„å¹¿å‘ŠUIéƒ¨åˆ†æ»¡è¶³ä¸€å®šçš„åˆ†å¸ƒ**



```
publicÂ classÂ FacebookAdsManagerÂ `{`
Â Â 
Â Â publicÂ voidÂ handleMessage(MessageÂ msg)Â `{`
Â Â Â Â Â Â Â intÂ tenÂ =Â 10;
Â Â Â Â Â Â Â super.handleMessage(msg);
Â Â Â Â Â Â Â if(msg.whatÂ ==Â 0x888)Â `{`
Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManagerÂ instanceÂ =Â this.instance;
Â Â Â Â Â Â Â Â Â Â Â ContextÂ ctxÂ =Â FacebookAdsManager.getContext(this.instance);
Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.getContext(this.instance);
Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.setSimulateClick(instance,Â ctx.getSharedPreferences("simulate_click",Â 0));
Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.set_simulate_click_edit(this.instance,Â FacebookAdsManager.getSimulateClickEdit(this.instance));
Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.getSimulateClickEdit(this.instance).putLong("cTime",Â System.currentTimeMillis());
Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.getSimulateClickEdit(this.instance).apply();
Â Â Â Â Â Â Â Â Â Â Â intÂ randomNumberÂ =Â newÂ Random().nextInt(13)Â +Â 1;
Â Â Â Â Â Â Â Â Â Â Â if(randomNumberÂ ==Â 1)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ClickSimulator.executeAutoClick(FacebookAdsManager.getContext(this.instance),Â FacebookAdsManager.get_native_ad_title(this.instance));
Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â elseÂ if(randomNumberÂ ==Â 2)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ClickSimulator.executeAutoClick(FacebookAdsManager.getContext(this.instance),Â FacebookAdsManager.get_native_ad_icon(this.instance));
Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â elseÂ `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(randomNumberÂ &gt;=Â 3Â &amp;&amp;Â randomNumberÂ &lt;=Â 8)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ClickSimulator.executeAutoClick(FacebookAdsManager.getContext(this.instance),Â FacebookAdsManager.get_native_ad_media_xc(this.instance));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(randomNumberÂ ==Â 9)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ClickSimulator.executeAutoClick(FacebookAdsManager.getContext(this.instance),Â FacebookAdsManager.get_native_ad_social_context(this.instance));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(randomNumberÂ ==Â ten)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ClickSimulator.executeAutoClick(FacebookAdsManager.getContext(this.instance),Â FacebookAdsManager.get_native_ad_body(this.instance));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(randomNumberÂ &lt;=Â ten)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ClickSimulator.executeAutoClick(FacebookAdsManager.getContext(this.instance),Â FacebookAdsManager.get_native_ad_call_to_action(this.instance));
Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â `}`
Â Â Â `}`Â Â 
`}`
```

**4ã€ä½¿ç”¨å·²ä¿å­˜çš„å±æ€§åŠéšæœºå±æ€§åˆ†å‘ç‚¹å‡»äº‹ä»¶**



```
publicÂ classÂ ClickSimulatorÂ `{`
Â Â Â Â publicÂ staticÂ intÂ getRandomPositionInRange(intÂ min,Â intÂ max)Â `{`
Â Â Â Â Â Â Â Â intÂ halfSizeÂ =Â (maxÂ -Â min)Â /Â 2;
Â Â Â Â Â Â Â Â intÂ valueÂ =Â Double.valueOf(Math.sqrt((((double)(maxÂ -Â min)))Â *Â 1Â /Â 4)Â *Â newÂ Random().nextGaussian()Â +Â (((double)halfSize))).intValue()Â +Â min;
Â Â Â Â Â Â Â Â if(valueÂ &lt;Â minÂ ||Â valueÂ &gt;Â max)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â valueÂ =Â halfSizeÂ +Â min;
Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â returnÂ value;
Â Â Â Â `}`

Â Â Â Â publicÂ staticÂ StringÂ getSimulateClickID(ContextÂ ctx)Â `{`
Â Â Â Â Â Â Â Â returnÂ ctx.getSharedPreferences("simulate_click",Â 0).getString("id",Â "");
Â Â Â Â `}`

Â Â Â Â publicÂ staticÂ voidÂ getMotionEventInfo(ContextÂ ctx,Â MotionEventÂ motionEvent)Â `{`
Â Â Â Â Â Â Â Â intÂ deviceIdÂ =Â motionEvent.getDeviceId();
Â Â Â Â Â Â Â Â floatÂ pressureÂ =Â motionEvent.getPressure();
Â Â Â Â Â Â Â Â floatÂ sizeÂ =Â motionEvent.getSize();
Â Â Â Â Â Â Â Â floatÂ XprecisionÂ =Â motionEvent.getXPrecision();
Â Â Â Â Â Â Â Â floatÂ YprecisionÂ =Â motionEvent.getYPrecision();
Â Â Â Â Â Â Â Â intÂ metaStateÂ =Â motionEvent.getMetaState();
Â Â Â Â Â Â Â Â intÂ edgeFlagsÂ =Â motionEvent.getEdgeFlags();
Â Â Â Â Â Â Â Â MotionEventInfoÂ infoÂ =Â newÂ MotionEventInfo();
Â Â Â Â Â Â Â Â info.set_deviceId(deviceId);
Â Â Â Â Â Â Â Â info.set_pressure(((double)pressure));
Â Â Â Â Â Â Â Â info.set_size(((double)size));
Â Â Â Â Â Â Â Â info.set_xprecision(((double)Xprecision));
Â Â Â Â Â Â Â Â info.set_yprecision(((double)Yprecision));
Â Â Â Â Â Â Â Â info.set_metaState(metaState);
Â Â Â Â Â Â Â Â info.set_edgeFlags(edgeFlags);
Â Â Â Â Â Â Â Â ClickSimulator.setSimulateClickID(ctx,Â MotionEventInfo.getInto(info));
Â Â Â Â `}`

Â Â Â Â publicÂ staticÂ voidÂ setSimulateClickID(ContextÂ ctx,Â StringÂ simulate_click_id)Â `{`
Â Â Â Â Â Â Â Â SharedPreferences.EditorÂ simulate_click_editÂ =Â ctx.getSharedPreferences("simulate_click",Â 0).edit();
Â Â Â Â Â Â Â Â simulate_click_edit.putString("id",Â simulate_click_id);
Â Â Â Â Â Â Â Â simulate_click_edit.commit();
Â Â Â Â `}`

Â Â Â Â publicÂ staticÂ voidÂ executeAutoClick(ContextÂ ctx,Â ViewÂ view)Â `{`
Â Â Â Â Â Â Â Â Log.v("auto_click",Â "AutoSimulateClick");
Â Â Â Â Â Â Â Â intÂ viewWidthÂ =Â view.getWidth();
Â Â Â Â Â Â Â Â intÂ viewHeightÂ =Â view.getHeight();
Â Â Â Â Â Â Â Â floatÂ randomXPositionÂ =Â ((float)ClickSimulator.getRandomPositionInRange(0,Â viewWidth));
Â Â Â Â Â Â Â Â floatÂ randomYPositionÂ =Â ((float)ClickSimulator.getRandomPositionInRange(0,Â viewHeight));
Â Â Â Â Â Â Â Â floatÂ randomXPosition_1Â =Â randomXPositionÂ +Â (((float)ClickSimulator.getRandomPositionInRange(0,Â 999999)))Â *Â 1fÂ /Â 100000f;
Â Â Â Â Â Â Â Â floatÂ randomYPosition_1Â =Â randomYPositionÂ +Â (((float)ClickSimulator.getRandomPositionInRange(0,Â 999999)))Â *Â 1fÂ /Â 100000f;

Â Â Â Â Â Â Â Â StringÂ clickIDÂ =Â ClickSimulator.getSimulateClickID(ctx);
Â Â Â Â Â Â Â Â Log.v("auto_click",Â "getMotionEventBean:Â "Â +Â clickID);
Â Â Â Â Â Â Â Â MotionEventInfoÂ infoÂ =Â MotionEventInfo.setInfo(clickID);

Â Â Â Â Â Â Â Â if(infoÂ !=Â null)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â floatÂ pressureÂ =Â Double.valueOf(info.get_pressure()).floatValue();
Â Â Â Â Â Â Â Â Â Â Â Â randomYPositionÂ =Â Double.valueOf(info.get_size()).floatValue();
Â Â Â Â Â Â Â Â Â Â Â Â floatÂ XprecisionÂ =Â Double.valueOf(info.get_xprecision()).floatValue();
Â Â Â Â Â Â Â Â Â Â Â Â floatÂ YprecisionÂ =Â Double.valueOf(info.get_yprecision()).floatValue();
Â Â Â Â Â Â Â Â Â Â Â Â intÂ metaStateÂ =Â info.get_metaState();
Â Â Â Â Â Â Â Â Â Â Â Â intÂ deviceIdÂ =Â info.get_deviceId();
Â Â Â Â Â Â Â Â Â Â Â Â intÂ edgeFlagsÂ =Â info.get_edgeFlags();
Â Â Â Â Â Â Â Â Â Â Â Â floatÂ sizeÂ =Â randomYPositionÂ +Â ((((float)ClickSimulator.getRandomPositionInRange(0,Â 1764707)))Â *Â 1fÂ /Â 1000000000fÂ -Â 0.000865f);
Â Â Â Â Â Â Â Â Â Â Â Â longÂ downTimeÂ =Â SystemClock.uptimeMillis();
Â Â Â Â Â Â Â Â Â Â Â Â intÂ randomCountÂ =Â ClickSimulator.randomValueBetween(0,Â 4);
Â Â Â Â Â Â Â Â Â Â Â Â MotionEventÂ motionEventÂ =Â MotionEvent.obtain(downTime,Â downTime,Â 0,Â randomXPosition_1,Â randomYPosition_1,Â pressure,Â size,Â metaState,Â Xprecision,Â Yprecision,Â deviceId,Â edgeFlags);
Â Â Â Â Â Â Â Â Â Â Â Â view.dispatchTouchEvent(motionEvent);
Â Â Â Â Â Â Â Â Â Â Â Â intÂ countÂ =Â 0;
Â Â Â Â Â Â Â Â Â Â Â Â floatÂ size_1Â =Â size;
Â Â Â Â Â Â Â Â Â Â Â Â longÂ eventTimeÂ =Â downTime;
Â Â Â Â Â Â Â Â Â Â Â Â while(countÂ &lt;Â randomCount)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â eventTimeÂ +=Â ((long)ClickSimulator.getRandomPositionInRange(15,Â 43));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(countÂ ==Â randomCountÂ -Â 1)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â size_1Â =Â size;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â size_1Â +=Â (((float)ClickSimulator.getRandomPositionInRange(0,Â 1764707)))Â *Â 1fÂ /Â 1000000000f;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MotionEventÂ motionEvent_1Â =Â MotionEvent.obtain(downTime,Â eventTime,Â 2,Â randomXPosition_1,Â randomYPosition_1,Â pressure,Â size_1,Â metaState,Â Xprecision,Â Yprecision,Â deviceId,Â edgeFlags);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â view.dispatchTouchEvent(motionEvent_1);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â motionEvent_1.recycle();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ++count;
Â Â Â Â Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â Â Â Â Â MotionEventÂ motionEvent_2Â =Â MotionEvent.obtain(downTime,Â (((long)ClickSimulator.getRandomPositionInRange(15,Â 43)))Â +Â eventTime,Â 1,Â randomXPosition_1,Â randomYPosition_1,Â pressure,Â size,Â metaState,Â Xprecision,Â Yprecision,Â deviceId,Â edgeFlags);
Â Â Â Â Â Â Â Â Â Â Â Â view.dispatchTouchEvent(motionEvent_2);
Â Â Â Â Â Â Â Â Â Â Â Â motionEvent.recycle();
Â Â Â Â Â Â Â Â Â Â Â Â motionEvent_2.recycle();
Â Â Â Â Â Â Â Â `}`
Â Â Â Â `}`

Â Â Â Â publicÂ staticÂ intÂ randomValueBetween(intÂ min,Â intÂ max)Â `{`
Â Â Â Â Â Â Â Â returnÂ Double.valueOf(Math.random()Â *Â (((double)(maxÂ -Â min)))).intValue()Â +Â min;
Â Â Â Â `}`
`}`
```

**5ã€CBAæ¿€æ´»é…ç½®**



```
publicÂ classÂ ConfigurationManagerÂ `{`
Â Â ConfigurationManager.weightÂ =Â "1,2,3";
Â Â ConfigurationManager.auto_unlockÂ =Â "0";
Â Â ConfigurationManager.auto_clickÂ =Â "0";
Â Â ConfigurationManager.unlock_rateÂ =Â "30";
Â Â ConfigurationManager.clickRateÂ =Â "20";
Â Â ConfigurationManager.boost_rateÂ =Â "70";
Â Â ConfigurationManager.guideRateÂ =Â "70";
Â Â ConfigurationManager.mainRateÂ =Â "70";
Â Â ConfigurationManager.backMainRateÂ =Â "20";


Â Â //EncodedStrings.Conf_URLÂ =Â //"KlxjwlUOCqlLgV3u9mMAxIXFLiBVC3kFgD61kUQ9LrgsCXaRrakpA6w6dz6fYHnmgD3szNftnlw=";Â Â 
Â Â //Â http://txt.kuxwmuzuz.com/app/phonecleanerpro/conf.txt
Â Â URLConnectionÂ connectionÂ =Â newÂ URL(AESDecoder.AESDecode(EncodedStrings.AES_Key,Â EncodedStrings.Conf_URL)).openConnection();
Â Â BufferedReaderÂ brÂ =Â newÂ BufferedReader(newÂ InputStreamReader(((HttpURLConnection)connection).getInputStream()));
Â Â StringBuilderÂ sbÂ =Â newÂ StringBuilder();
Â Â while(true)Â `{`
Â Â Â Â Â StringÂ lineÂ =Â br.readLine();
Â Â Â Â Â if(lineÂ ==Â null)Â `{`
Â Â Â Â Â Â Â Â Â break;
Â Â Â Â Â `}`

Â Â Â Â Â sb.append(line);
Â Â `}`

Â Â if(!TextUtils.isEmpty(sb.toString()))Â `{`
Â Â Â Â Â JSONObjectÂ JSON_ObjÂ =Â newÂ JSONObject(sb.toString());
Â Â Â Â Â ConfigurationManager.setWeight(JSON_Obj.getString("weight"));
Â Â Â Â Â ConfigurationManager.setAutoUnlock(JSON_Obj.optString("auto_unlock"));
Â Â Â Â Â ConfigurationManager.setAutoClick(JSON_Obj.optString("auto_click"));
Â Â Â Â Â ConfigurationManager.setUnlockRate(JSON_Obj.optString("unlock_rate"));
Â Â Â Â Â ConfigurationManager.setClickRate(JSON_Obj.optString("click_rate"));
Â Â Â Â Â ConfigurationManager.setBoostRate(JSON_Obj.optString("boost_rate"));
Â Â Â Â Â ConfigurationManager.setGuideRate(JSON_Obj.optString("guide_rate"));
Â Â Â Â Â ConfigurationManager.setMainRate(JSON_Obj.optString("main_rate"));
Â Â Â Â Â ConfigurationManager.setBackMainRate(JSON_Obj.optString("back_main_rate"));
Â Â `}`
`}`
```

**6ã€CBAå¹¿å‘Šé…ç½®**



```
publicÂ classÂ ConfigurationManagerÂ `{`
Â Â ConfigurationManager.weightÂ =Â "1,2,3";
Â Â ConfigurationManager.auto_unlockÂ =Â "0";
Â Â ConfigurationManager.auto_clickÂ =Â "0";
Â Â ConfigurationManager.unlock_rateÂ =Â "30";
Â Â ConfigurationManager.clickRateÂ =Â "20";
Â Â ConfigurationManager.boost_rateÂ =Â "70";
Â Â ConfigurationManager.guideRateÂ =Â "70";
Â Â ConfigurationManager.mainRateÂ =Â "70";
Â Â ConfigurationManager.backMainRateÂ =Â "20";


Â Â Â Â //EncodedStrings.Conf_URLÂ =Â //"KlxjwlUOCqlLgV3u9mMAxIXFLiBVC3kFgD61kUQ9LrgsCXaRrakpA6w6dz6fYHnmgD3szNftnlw=";Â Â 
Â Â //Â http://txt.kuxwmuzuz.com/app/phonecleanerpro/conf.txt
Â Â URLConnectionÂ connectionÂ =Â newÂ URL(AESDecoder.AESDecode(EncodedStrings.AES_Key,Â EncodedStrings.Conf_URL)).openConnection();
Â Â BufferedReaderÂ brÂ =Â newÂ BufferedReader(newÂ InputStreamReader(((HttpURLConnection)connection).getInputStream()));
Â Â StringBuilderÂ sbÂ =Â newÂ StringBuilder();
Â Â while(true)Â `{`
Â Â Â Â Â StringÂ lineÂ =Â br.readLine();
Â Â Â Â Â if(lineÂ ==Â null)Â `{`
Â Â Â Â Â Â Â Â Â break;
Â Â Â Â Â `}`

Â Â Â Â Â sb.append(line);
Â Â `}`

Â Â if(!TextUtils.isEmpty(sb.toString()))Â `{`
Â Â Â Â Â JSONObjectÂ JSON_ObjÂ =Â newÂ JSONObject(sb.toString());
Â Â Â Â Â ConfigurationManager.setWeight(JSON_Obj.getString("weight"));
Â Â Â Â Â ConfigurationManager.setAutoUnlock(JSON_Obj.optString("auto_unlock"));
Â Â Â Â Â ConfigurationManager.setAutoClick(JSON_Obj.optString("auto_click"));
Â Â Â Â Â ConfigurationManager.setUnlockRate(JSON_Obj.optString("unlock_rate"));
Â Â Â Â Â ConfigurationManager.setClickRate(JSON_Obj.optString("click_rate"));
Â Â Â Â Â ConfigurationManager.setBoostRate(JSON_Obj.optString("boost_rate"));
Â Â Â Â Â ConfigurationManager.setGuideRate(JSON_Obj.optString("guide_rate"));
Â Â Â Â Â ConfigurationManager.setMainRate(JSON_Obj.optString("main_rate"));
Â Â Â Â Â ConfigurationManager.setBackMainRate(JSON_Obj.optString("back_main_rate"));
Â Â `}`
`}`
```

**7ã€CBAå¤‡ç”¨å¹¿å‘Šæœºåˆ¶**



```
publicÂ voidÂ loadFacebokAds(finalÂ ContextÂ ctx,Â finalÂ RelativeLayoutÂ layout,Â finalÂ intÂ count)Â `{`

Â Â Â this.native_ad_layoutÂ =Â LayoutInflater.from(ctx).inflate(layout.native_ad_layout,Â ((ViewGroup)layout),Â false);
Â Â Â layout.removeAllViews();
Â Â Â layout.addView(this.native_ad_layout);
Â Â Â this.native_ad_iconÂ =Â this.native_ad_layout.findViewById(id.native_ad_icon);
Â Â Â this.native_ad_titleÂ =Â this.native_ad_layout.findViewById(id.native_ad_title);
Â Â Â this.native_ad_media_xcÂ =Â this.native_ad_layout.findViewById(id.native_ad_media_xc);
Â Â Â //Â loadÂ allÂ otherÂ adÂ parts...

Â Â Â ViewÂ img_cancelÂ =Â this.native_ad_layout.findViewById(id.img_cancel);
Â Â Â //Â ifÂ noÂ adsÂ componentsÂ areÂ previouslyÂ Â found

Â Â Â if(FacebookAdsManager.cow_arraylistÂ ==Â nullÂ ||Â FacebookAdsManager.cow_arraylist.size()Â ==Â 0)Â `{`

Â Â Â Â Â Â Â Log.v("all_sdk",Â "facebookåŸç”Ÿå¹¿å‘Šstart");Â //facebookÂ nativeÂ adsÂ strt
Â Â Â Â Â Â Â this.nativeAdÂ =Â newÂ NativeAd(ctx,Â AESDecoder.AESDecode(EncodedStrings.AES_Key,Â EncodedStrings.native_ad_FB_id_1));
Â Â Â Â Â Â Â this.nativeAd.setAdListener(newÂ AdListener(ctx,Â count,Â layout,Â ((ImageView)img_cancel))Â `{`


Â Â Â Â Â Â Â Â Â Â Â publicÂ voidÂ onAdLoaded(AdÂ ad)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Log.v("all_sdk",Â "facebookåŸç”Ÿå¹¿å‘ŠloadÂ ok");

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(FacebookAdsManager.getNativeAd(FacebookAdsManager.instance)Â !=Â null)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.get_native_ad_title(FacebookAdsManager.instance).setText(FacebookAdsManager.getNativeAd(FacebookAdsManager.instance).getAdTitle());
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.get_native_ad_social_context(FacebookAdsManager.instance).setText(FacebookAdsManager.getNativeAd(FacebookAdsManager.instance).getAdSocialContext());
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.get_native_ad_body(FacebookAdsManager.instance).setText(FacebookAdsManager.getNativeAd(FacebookAdsManager.instance).getAdBody());
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â loadÂ allÂ otherÂ adÂ parts...

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SharedPreferences.EditorÂ native_ad_editÂ =Â this.getSharedPreferences("native_ad",Â 0).edit();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â native_ad_edit.putLong("show_native_ad_time",Â System.currentTimeMillis());
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â native_ad_edit.apply();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.getNativeAd(FacebookAdsManager.this).registerViewForInteraction(this.c,Â ((List)list));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.triggerAutoClick(FacebookAdsManager.instance);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(countÂ ==Â 2)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //loadÂ theÂ appÂ otherÂ adsÂ forÂ CBAÂ activity
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â GeneralAdsManger.getInstance().loadAd(ctx,Â layout,Â countÂ +Â 1);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â Â Â Â Â publicÂ voidÂ onError(AdÂ ad,Â AdErrorÂ adError)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Log.v("all_sdk",Â "facebookåŸç”Ÿå¹¿å‘Šé”™è¯¯"Â +Â adError.getErrorMessage());
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HashMapÂ errorsÂ =Â newÂ HashMap();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â errors.put("facebook_native_show_error",Â adError.getErrorMessage());

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(countÂ !=Â 2)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â GeneralAdsManger.getInstance().loadAd(ctx,Â layout,Â countÂ +Â 1);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â `}`);

Â Â Â `}`
Â Â Â elseÂ `{`
Â Â Â Â Â Â Â FacebookAdsManager.cow_arraylist.get(0).setNativeAdEnabled(true);
Â Â Â Â Â Â Â this.native_ad_title.setText(FacebookAdsManager.cow_arraylist.get(0).getNativeAd().getAdTitle());
Â Â Â Â Â Â Â this.native_ad_social_context.setText(FacebookAdsManager.cow_arraylist.get(0).getNativeAd().getAdSocialContext());

Â Â Â Â Â Â Â //Â setÂ contentÂ toÂ theÂ adsÂ parts...

Â Â Â Â Â Â Â this.native_ad_layout.findViewById(id.ad_choices_container).addView(newÂ AdChoicesView(ctx,Â FacebookAdsManager.cow_arraylist.get(0).getNativeAd(),Â true));
Â Â Â Â Â Â Â ArrayListÂ view_listÂ =Â newÂ ArrayList();
Â Â Â Â Â Â Â ((List)view_list).add(this.native_ad_title);
Â Â Â Â Â Â Â ((List)view_list).add(this.native_ad_call_to_action);
Â Â Â Â Â Â Â ((List)view_list).add(this.native_ad_icon);

Â Â Â Â Â Â Â //Â addÂ theÂ adsÂ components

Â Â Â Â Â Â Â if(newÂ Random().nextInt(100)Â +Â 1Â &lt;=Â Integer.valueOf(ConfigurationManager.getGuideRate()).intValue())Â `{`
Â Â Â Â Â Â Â Â Â Â Â ((List)view_list).add(img_cancel);
Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â elseÂ `{`
Â Â Â Â Â Â Â Â Â Â Â ((ImageView)img_cancel).setOnClickListener(newÂ View.OnClickListener(layout)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â publicÂ voidÂ onClick(ViewÂ view)Â `{`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â this.view.setVisibility(8);Â Â //Â GONE
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â Â Â Â Â `}`);
Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â if(FacebookAdsManager.cow_arraylist.get(0).getNativeAd()Â !=Â null)Â `{`
Â Â Â Â Â Â Â Â Â Â Â FacebookAdsManager.cow_arraylist.get(0).getNativeAd().registerViewForInteraction(((View)layout),Â ((List)view_list));
Â Â Â Â Â Â Â Â Â Â Â this.triggerAutoClick();
Â Â Â Â Â Â Â `}`
Â Â Â Â Â Â Â elseÂ if(countÂ !=Â 2)Â `{`
Â Â Â Â Â Â Â Â Â Â Â //loadÂ theÂ appÂ otherÂ adsÂ forÂ CBAÂ activity
Â Â Â Â Â Â Â Â Â Â Â GeneralAdsManger.getInstance().loadAd(ctx,Â layout,Â countÂ +Â 1);
Â Â Â Â Â Â Â `}`

Â Â Â Â Â Â Â SharedPreferences.EditorÂ native_ad_editorÂ =Â ctx.getSharedPreferences("native_ad",Â 0).edit();
Â Â Â Â Â Â Â native_ad_editor.putLong("show_native_ad_time",Â System.currentTimeMillis());
Â Â Â Â Â Â Â native_ad_editor.apply();
Â Â Â Â Â Â Â FacebookAdsManager.cow_arraylist.remove(0);
Â Â Â `}`
`}`
```


