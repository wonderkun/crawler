> 原文链接: https://www.anquanke.com//post/id/82449 


# 使用电视棒监听信号灯指令（后续可控制信号灯）


                                阅读量   
                                **82482**
                            
                        |
                        
                                                                                    



##### 译文声明

本文是翻译文章，文章原作者，文章来源：刘健皓@360安全播报
                                <br>原文地址：[http://www.bastibl.net/traffic-lights/](http://www.bastibl.net/traffic-lights/)

译文仅供参考，具体内容表达以及含义原文为准

在米帝国的一些马路上，随处可见有一些交通信号灯是有这样的天线的。通过天线的架构可以分析得出，信号灯很显然是通过RF来下发指令进行控制的。下面我们使用SDR设备来分析一下这个信号灯。

[![](https://p1.ssl.qhimg.com/t0115e589de4c4a77a2.png)](https://p1.ssl.qhimg.com/t0115e589de4c4a77a2.png)[![](https://p4.ssl.qhimg.com/t016f85c3bff94dc34b.png)](https://p4.ssl.qhimg.com/t016f85c3bff94dc34b.png)

                 我曾经听说交通信号灯的传输距离是2米。我在这个有效传输范围内使用电视棒+GQRX软件对交通信号灯的中心频率进行分析，发现他们在170 mhz中心频率左右的有两个条独立运作的两对交通信号灯指令。这就是控制信号灯的射频指令。

[![](https://p4.ssl.qhimg.com/t01ffbcfbba6ec63845.png)](https://p4.ssl.qhimg.com/t01ffbcfbba6ec63845.png)



                   跟以往一样我们使用FM调制解技术使用带宽约18khz，使用Baudline和Audacity，对信号进行分析。可以发现一些有规律的曲线。这些曲线与红绿灯的控制有关。很容易看出来这是使用了**AFSK**1200（https://en.wikipedia.org/wiki/Frequency-shift_keying#Audio_FSK）在1200HZ 和 2400HZ之间交替的射频信号。 



[![](https://p2.ssl.qhimg.com/t016d3f642bc0038832.png)](https://p2.ssl.qhimg.com/t016d3f642bc0038832.png)

                        然后我使用了GNU Radio构造了一个简单的框图，把信号灯输出的信号转换成二进制帧的格式，进行呈现。

[![](https://p1.ssl.qhimg.com/t01e7ae3007189c89e4.png)](https://p1.ssl.qhimg.com/t01e7ae3007189c89e4.png)



                         转换成二进制后对数据进行分析，发现了一些有意思的规律。

[![](https://p5.ssl.qhimg.com/t0107c532beb741e5ec.png)](https://p5.ssl.qhimg.com/t0107c532beb741e5ec.png)



                         然后利用这些数据接做了一个非常丑陋的web可视化界面，可以清楚的呈现红绿灯的内容。

[![](https://p3.ssl.qhimg.com/t01b57609ae67773748.png)](https://p3.ssl.qhimg.com/t01b57609ae67773748.png)



                        ** 编者的话：这个作者很偶然的发现了一台使用射频控制指令的交通信号灯。一般国内是没有这样的信号灯的。并且使用低成本SDR解决方案还原出来信下发控制信号灯指令。在对RF射频频谱分析的前提之上，作者完全可以使用HACK-RF这样的射频设备，发送控制信号灯的指令。从而接管信号灯的控制权限，这样警察叔叔再也不怕我闯红灯了。**

**<br>**

视频大家自己翻墙出去看吧，如果我们这里可以上传了会及时在此页播放的：[https://www.youtube.com/watch?v=1hb10T3aP4g](https://www.youtube.com/watch?v=1hb10T3aP4g)
